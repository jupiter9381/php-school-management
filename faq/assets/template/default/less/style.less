/**
 * phpMyFAQ 2.9 default layout
 *
 * This Source Code Form is subject to the terms of the Mozilla Public License,
 * v. 2.0. If a copy of the MPL was not distributed with this file, You can
 * obtain one at http://mozilla.org/MPL/2.0/.
 *
 * @category  phpMyFAQ
 * @package   Layout
 * @author    Thorsten Rinne <thorsten@phpmyfaq.de>
 * @copyright 2010-2019 phpMyFAQ Team
 * @license   http://www.mozilla.org/MPL/2.0/ Mozilla Public License Version 2.0
 * @link      https://www.phpmyfaq.de
 * @since     2010-01-17
 */

//
// Twitter Bootstrap
//
@import "../../../../../components/bootstrap/less/bootstrap.less";

//
// Global variables and mixins
//
@import "colors";
@import "mixins";

//
// Font Awesome
//
@import "../../../../../components/font-awesome/less/font-awesome";

//
// phpMyFAQ used Font
//
@import url("//fonts.googleapis.com/css?family=Lato:400,700,900,400italic");

@font-family: 'Lato', sans-serif;

//
// Viewports
//
@large: ~"(min-width: 1200px)";
@medium: ~"(min-width: 980px) and (max-width: 1199px)";
@small: ~"(min-width: 768px) and (max-width: 979px)";
@small-and-smaller: ~"(max-width: 979px)";
@smaller: ~"(max-width: 767px)";
@tiny: ~"(max-width: 480px)";

//
// Basic layout definition
//
body {
  font-size: 16px;
  line-height: 27px;
  font-family: @font-family;
  color: @text;
  background-color: @pmf-background;
}

a {
  color: @link-primary;
  &:hover, &:focus {
    text-decoration: none;
    color: @link-primary-hover;
  }
}

h1 {
  font-size: 45px;
  line-height: 60px;
  font-weight: normal;
  font-family: @font-family;
}

h2 {
  font-size: 30px;
  line-height: 40px;
  font-family: @font-family;
}

h3 {
  font-size: 21px;
  line-height: 30px;
  font-weight: normal;
  font-family: @font-family;
}

hr {
  border-top-color: @pmf-separator;
}

mark, .mark {
  padding: 0 !important; // override Bootstrap default
}

//
// Text selection color
//
.selection(lighten(@link-primary, 10%), @pmf-background);

//
// Masthead is the top part of the header with logo and navigation
//
.pmf-masthead {
  padding-top: 44px;
  padding-bottom: 44px;

  a {
    color: @pmf-masthead-link;
  }

  #logo {
    float: left;
    display: block;
  }
}

//
// Wrappers that span the whole width of the page
//
.pmf-wrapper {
  background-color: @pmf-background;

  &.pmf-main {
    .box-shadow(inset 1px 3px 1px -2px @pmf-background-shadow);
  }

  &.pmf-masthead {
    background-color:@pmf-masthead-background;
    color:@pmf-masthead-text;
  }

  &.pmf-subheader {
    background-color: @pmf-subheader-background;
    color: @pmf-subheader-text; //Breadcrumb is separately defined in elements.less
    font-size:16px;
    min-height: 63px
  }

  &.pmf-footer {
    background-color: @pmf-footer-background;
    color: @pmf-footer-text;
    font-size: 14px;
    padding: 40px 0 40px;

    a {
      color:@pmf-footer-link;
      &:hover {
        text-decoration: underline;
      }
    }

    ul.footer-menu {
      list-style: none outside none;
      li {
        color: @pmf-footer-link;
        float: left;
        list-style: none outside none;
        margin-right: 22px;
      }
    }

  }

  &.copyright {
    background-color: @copyright-background;
    color: @copyright-text;
    a {
      color:lighten(@copyright-text, 15%);
    }
    padding-top:15px;
    padding-bottom:15px;
  }

}

//
// Navigation
//
.pmf-nav {
  .nav-pills {
    margin-top: 10px;
    margin-bottom: 0;
    font-size: 16px;

    > li {
      margin-left: 10px;
      > a {
        color: @navigation-link;
        padding: 11px 10px;
        line-height: 14px;

        &:hover, &:focus {
          background-color: @navigation-hover-background;
        }
      }
      &.dropdown.open.active {
        > a:hover, > a:focus {
          background-color: @navigation-active-background;
        }
      }
    }

    .open {
      .dropdown-toggle {
        background-color: @navigation-active-background;
      }
    }
    > .active {
      > a {
        background-color: @navigation-active-background;

        &:hover, &:focus {
          background-color: @navigation-active-background;
        }
      }
    }

    .dropdown-menu {
      font-size: 16px;
      border-radius: 6px;
    }
  }

  .caret {
    border-color:@navigation-link transparent transparent transparent !important;
  }

  .dropdown {
    .caret {
      margin-left: 7px;
    }
  }

  .dropdown-menu {
    background-color: @navigation-dropdown-background;
    border: 1px solid @navigation-dropdown-border;
    .box-shadow(0 5px 10px @navigation-dropdown-shadow);
    margin: 2px 0 0;
    min-width: 160px;
    padding: 5px 0;

    > li {
      > a {
        color: @navigation-dropdown-link;
        line-height: 30px;
        white-space: nowrap;

        &:hover, &:focus {
          background-color: @navigation-dropdown-hover;
          color: @navigation-dropdown-link;
          filter: none;
        }
      }
    }
  }

  .navbar-collapse {
    box-shadow:none;
  }

  .navbar-nav > li > .dropdown-menu {
    margin-top:2px;
  }
}

#mobile-nav-toggle {
  display:none;
  margin-top:10px;

  @media @smaller {
    display:block;
  }

  a:hover, a:focus {
    text-decoration: none;
  }

  .fa {
    color:@pmf-masthead-text;
  }
}


@media @smaller {

  .pmf-masthead {
    padding-bottom:0;
  }

  .pmf-nav {
    box-shadow:none;
    background-color: @mobilenav-background;
    float:left !important;
    width:100%;

    margin-top:30px;
    margin-bottom:20px;

    .border-radius(6px);

    .navbar-collapse {
      max-height: none;
    }

    .nav-pills {
      > li {
        margin-left:0;
        float:none;
        > a {
          // border-top:@mobilenav-line 1px solid;
          margin-left: 40px;
          margin-right: 40px;
        }

        a {
          font-weight: normal;
          font-size:20px;
          line-height:30px;
          padding-left: 10px;
          padding-right: 10px;
          .border-radius(0px);
        }

        &:first-child {
          > a {
            border-top:none;
          }
        }

        > a:hover, > a:focus {
          background:transparent;
        }

        &.dropdown.open.active {
          > a:hover, > a:focus {
            background:transparent;
          }
        }
      }

      .active {
        > a, > a:hover, > a:focus {
          background:transparent;
        }
      }

      .open .dropdown-toggle {
        background-color: transparent;
        border-color:@mobilenav-line;
        padding-bottom:7px;
      }

      .dropdown-toggle  {
        .caret {
          float: right;
          margin-top: 14px;
        }

      }
      .dropdown-menu {
        background-color: @mobilenav-active-background;
      }

      .dropdown {
        &.open {
          background-color: @mobilenav-active-background;
          .dropdown-toggle {

          }
        }
      }
    }

    .caret {
      border-color:@mobilenav-link transparent transparent transparent !important;
      border-width:6px;
      display:block;
    }

    .dropdown-menu {
      margin-top:0;
      padding-top: 0;
      .box-shadow(none);
      border:none;

      > li {
        margin-left:35px;
        > a {
          padding-top:9px;
          padding-bottom: 9px !important;
          font-size:18px;
          line-height: 27px;
          &:hover, &:focus {
            background-color: transparent;
          }
        }
      }
    }

    .navbar-nav .open .dropdown-menu > li > a {
      padding-top: 9px;
      padding-bottom: 9px;
      line-height: 27px;
    }

  }
}

//
// Breadcrumb
//
.pmf-breadcrumb {
  color: @breadcrumb-link;
  float: left;
  margin-top: 19px;

  a {
    color: @breadcrumb-link;

    &:hover, &:focus {
      text-decoration: none;
    }
  }
  .breadcrumb {
    background: transparent;
    margin: 0;
    padding: 0;
  }
}

//
// Searchbox
//
.pmf-searchbox {
  float: right;
  display: inline-block;
  min-width: 210px;
  margin-bottom: 16px;
  margin-top: 16px;

  form {
    margin: 0;
  }

  .fa {
    color: @searchbox-text;
    font-size: 19px;
  }

  .searchbutton, .searchfield {
    color: @searchbox-text;
    background-color: @searchbox-background;
  }

  .searchbutton {
    display: inline-block;
    border: none;
    line-height: 20px;
    padding: 4px 5px 4px 15px;
    height: 31px;
    vertical-align: middle;
    .border-left-radius(15px);

    a:hover, a:focus {
      text-decoration: none;
    }
  }

  .searchfield {
    border: none;
    height: 22px;
    line-height: 22px;
    .box-sizing(content-box);
    padding: 5px 6px 4px 6px;
    vertical-align: middle;
    display: inline-block;
    margin-bottom: 0;
    width: 160px;
    font-size: 16px;
    .border-right-radius(15px);
    .border-left-radius(0px);
    margin-left: -4px;
    outline: none;

    .input-placeholder(@searchbox-text);

    &:focus{
      .box-shadow(none);
    }
  }
}

//
// Main contents
//
.pmf-maincontent, .pmf-aside {
  &:before {
    border-left: 1px solid @vertical-separator;
    height: 100%;
    content: "";
    position: absolute;
    top: 0;
    width: 1px;
    @media @smaller {
      display: none;
    }
  }
}

.pmf-maincontent {
  padding-top: 36px;
  padding-bottom: 20px;

  &:before {
    right: -16px;
    @media @small { display: none; }
  }
}

.pmf-aside {
  padding-top: 45px;
  @media @smaller { padding-top: 50px; }

  &:before {
    left: 15px;
    @media @small { display: none; }
  }
}

//
// Aside widgets
//
.pmf-aside-widget {
  margin-bottom: 20px;

  header {
    #gradient > .vertical(@widget-gradient-start, @widget-gradient-end);
    border: 1px @vertical-separator solid;
    border-bottom-right-radius: 4px;
    border-top-right-radius: 4px;

    h3 {
      font-size:24px;
      padding: 10px 20px 3px 20px;
      margin-top: 0;
      color: @widget-header-text;
    }
  }
  .pmf-aside-widget-body {
    margin-top: 30px;
    padding-left: 20px;
    &.pmf-social-links {
      a:hover {
        text-decoration: none;
      }
    }
  }

  a {
    color: @widget-link;
    &:hover {
      text-decoration: underline;
    }
  }
}

//
// Lists
//
.pmf-list {

  li {
    line-height: 23px;
    margin-bottom: 14px;

    a {
      &:hover, &:focus {
        color:@link-secondary;
      }
    }
  }

  .pmf-footer & {
    margin-top: -6px;
    padding-left: 23px;

    li {
      margin-bottom: 5px;

      a {
        color: @pmf-footer-text;
        padding-bottom: 5px;
      }

      &:before {
        left: -21px;
      }
    }
  }
}

//
// Tags
//
.pmf-tags {
  list-style: none;
  margin: 0;
  padding-left: 0;
  li {
    float:left;
    a {
      padding: 10px 15px;
      margin-right: 16px;
      margin-bottom: 17px;
      display: inline-block;
      background: @tags-background;
      .border-radius(5px);

      &:focus, &:hover {
        background-color: @tags-background-hover;
        text-decoration: none;
      }
    }
  }
}

//
// FAQ pages
//
.pmf-faq {
  margin-bottom: 90px;

  header {
    h1 {
      margin-bottom: 22px;
    }

    .pmf-faq-meta {
      background-color: @pmf-meta-background;
      border-radius: 4px;
      color: @pmf-meta-text;
      padding-bottom: 10px;
      padding-left: 30px;

      a {
        color: @pmf-meta-text;
      }

      @media @small-and-smaller {
        bottom:0;
      }

      .pmf-faq-author, .pmf-faq-date, .pmf-faq-comments, .pmf-faq-edit {
        float:left;
        margin:10px 35px 0 0;

        .data {
          line-height:30px;
        }

        @media @medium {
          margin-right:20px;
        }
        @media @small {

        }

        i {
          font-size:30px;
          float:left;
          margin-right:10px;
        }
      }

    }
  }

  .pmf-faq-body {
    margin-top:20px;
    @media @large { padding-right: 30px; }
    .pmf-private-notes {
      background-color: lighten(@pmf-background, 10%);
      border: 1px solid darken(@pmf-background, 10%);
      padding: 5px;
    }
    p {
      margin-bottom: 20px;
    }
  }
}

.pmf-faq-info {
  .clearfix();
}
.pmf-stars {
  margin: auto;
  .text-center();
}
.pmf-star-rating {
  direction: rtl;
  font-size: 30px;
  line-height: 50px;
  padding: 2px;
  text-align: center;
  unicode-bidi: bidi-override;
  > span {
    cursor: pointer;
    display: inline-block;
    position: relative;
  }
  > span:hover:before,
  > span:hover ~ span:before {
    content: '\2605';
    cursor: pointer;
    position: absolute;
  }
}

//
// Comments on FAQs
//
aside.pmf-comments, aside.pmf-create-comment {
  margin-bottom: 20px;
  hr {
    width: 515px;
    @media @small { width: 415px; }
    @media @smaller { width: 100%; }

    margin: auto 40px;
    border-top-color: @pmf-separator;
  }
  h2 {
    text-align: center;
    i {
      font-size: 36px;
    }
    font-weight: normal;
    margin-bottom: 40px;
  }
}

aside.pmf-comments {
  .pmf-comment {
    margin-top: 40px;

    header {
      .pmf-comment-meta {
        margin-left: 100px;
        font-size: 14px;

        h3 {
          margin-top: 10px;
          line-height: 27px;
          a {
            color: @link-primary;
          }
        }

        a {
          color:@link-secondary;
        }
      }
    }
    .pmf-comment-body {
      margin-top: 10px;
      margin-left: 100px;
    }
  }
}

//
// Form styles
//
.pmf-create-comment, .pmf-contact-form {

  input, textarea {
    margin-top: 15px;
  }

  .btn {
    margin: 15px 0 0 30px;
    float:right;
  }
}

.form-control:focus {
  border-color: @form-focus-border;
  .box-shadow(~"inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px @form-focus-border");
}

.form-control {
  .input-placeholder(lighten(@text, 40%));
}

//
// Typeahead
//
.tt-query {
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}

.tt-hint {
  color: #999
}

.tt-menu {
  margin-top: 4px;
  padding: 4px 0;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-shadow: 0 5px 10px rgba(0,0,0,.2);
  position: absolute;
  left: auto !important;
  right: 0 !important;
  top: 100%;
  width: 480px;
  @media @small { width: 415px; }
  @media @smaller { width: 100%; }
}

.tt-suggestion {
  color: @pmf-subheader-background;
  display: block;
  line-height: 24px;
  padding: 3px 20px;
}

.tt-suggestion.tt-cursor {
  background-color: @pmf-background;
  color: @pmf-subheader-background;
  cursor: pointer;
}

//
// Search page
//
.pmf-search-advanced {
  & .input-group-addon{
    background: white !important;
  }
  & .form-control {
    border-right: 0;
    box-shadow: 0 0 0;
    border-color: #ccc;
    height: 60px;
  }
  & button {
    border: 0;
    background: transparent;
  }
}

//
// Category overview
//
.pmf-category-overview {
  li {
    list-style-type: none;
    i.fa.fa-arrow-circle-o-right {
      cursor: pointer;
      color: @link-primary;
    }
  }
}

//
// RSS Icon
//
.fa.fa-rss {
  color: orange;
  text-shadow: 1px 1px 0 rgba(150, 150, 150, 1);
}

//
// Utilities and Bootstrap stuff
//
.pointer {
  cursor: pointer;
}
.tooltip.in {
  opacity: 1 !important;
}

//
// Mermaid CSS
//
@import (less)"../../../../../components/mermaid/dist/mermaid.forest.css";
